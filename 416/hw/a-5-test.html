<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title> Assignment 5 Testing </title>
<link href="../../css/layout.css" rel="stylesheet" type="text/css" />
<link href="../../css/main.css" rel="stylesheet" type="text/css" />
<link href="../../css/print.css" rel="stylesheet" type="text/css" media="print" />
<link href="../../css/main-print.css" rel="stylesheet" type="text/css" media="print" />
<style type="text/css">
/* colors */







 





/* nav bar: not-selected */






/* body colors - greenish */
 /* banner color: red */
 /* title color: red */
 /* heading color: dark/pale green */
 /* darker reddish */

  /* dark red */
 





.subhead {
	background-color: #ddd;
	text-align: center;
	margin-left: 5em;
	margin-right: 5em;
	border: 1px solid #555;
	border-radius: 5px;
}
.note {
	font-style: italic;
	color: #444;
}
#main .faqlist dd {
        margin-left: 2em;
        margin-bottom: 2em;
}
#main .faqlist dt {
        background-color: #D1DBDB;
        border-top: 1px solid black;
        border-bottom: 1px solid black;
        padding-top: 0.25em;
        padding-left: 0.5em;
        color: black;
	font-weight: normal;
}
#main .faqlist dt strong, #main .faqlist dt b {
	color: red;
}
#main .faqlist dt {
	margin-bottom: 1em;
}
#main .faqlist dt p + p {
	padding-top: 1em;
}
#main .faqlist p + pre {
	margin-top: -1em;
}
#main .faqlist dt ul {
	margin-top: 1em;
}
#main .faqlist dt p {
	margin-bottom: 0;
}
#main .newslist dt {
        background-color: white;
        color: #555;
}
#main .answer {
	color: #a00000;
}

</style>
</head>

<body id="s_ru416">
<div id="wrapper">
<!-- _______________________________________ BANNER _______________________________________ -->
<div id="banner">
  <div id="logo">
  <img src="../../css/images/pk-org-pencil.png" alt="pk.org" name="logo" width="122" height="45"/>
  </div>
  <div id="title"> Operating Systems </div>
  <div id="search">
  <form method="get" action="http://www.google.com/search">
	<div style="border:none ;padding:2px;width:25em;">
	<input type="text" name="q" size="25" maxlength="255" value="" />
	<input type="submit" value="Search" />
	<input type="hidden"  name="sitesearch" value="www.pk.org" checked />
	</div>
  </form>
  </div>
  <ul>
    <li class="separator"><a href="../../about/index.html">About</a></li>
    <li class="separator"><a href="../../about/contact.html">Contact</a></li>
    <li><a href="../../sitemap.html">Site map</a></li>
  </ul>
</div>

<!-- _______________________________________ MAIN NAV _______________________________________ -->
<div id="navbar">
	<ul>
	<li class="homelink"><a href="../../index.html">Home</a></li>
<!--
	<li class="aboutlink"><a href="../../about/index.html">About</a></li>
-->
	<li class="ru"><a href="../../rutgers/index.html">Rutgers</a></li>
	<li class="ru352"><a href="../../352/index.html">Internet Technology [352]</a></li>
	<li class="ru416"><a href="../../416/index.html">Operating Systems [416]</a></li>
	<li class="ru417"><a href="../../417/index.html">Distributed Systems [417]</a></li>
	<li class="ru419"><a href="../../419/index.html">Computer Security [419]</a></li>
	<li class="cslink"><a href="../../cs/index.html">Computing</a></li>
	<li class="photolink"><a href="../../photo/index.html">Photography</a></li>
<!--
	<li class="funlink"><a href="#">Coming</a></li>
	<li class="funlink"><a href="#">Soon</a></li>
-->
	</ul>
</div>

<div id="subnav">
<p>
You are in: 
</p>
<ul>
	<li class="first"> <a href="index.html"> Home </a> 
 	<li> <a href="../../rutgers/index.html"> Rutgers </a> 
 	<li> <a href="../index.html"> CS 416 </a> 
 	<li> <a href="../hw/index.html"> Homework </a> 
 	<li> <a href="../hw/a-5-test.html"> Assignment 5 Testing </a> 
</ul>
</div>
  
<div id="content-wrapper">
<div id="main">
<div id="headline">
<h1> Assignment 5 Guidelines for Testing </h1>
</div>

<h1> Guidelines for assignment testing  </h1>

<p>
Before you submit your assignment, be sure that you clean up your code and test the assignment. 

<h2> Clean code </h2>
<p>
Avoid submitting sloppy code. It's a reflection on the quality of your work. Check that:
</p>
<ul>
<li>
The name of ALL team members appears in a comment at the top of the code as well as in a separate README file
</li>
<li>
The code is nicely formatted and properly intented.
</li>
<li>
You're not mixing spaces and tabs in your indentation.
</li>
<li>
Variable names make sense. If you have names like <code>temp1</code>, <code>temp2</code>, change them.
</li>
<li>
If you use <em>malloc</em> to allocate memory, you should free it using <em>free</em>.
</li>
<li>
Your code is well commented. This does not mean that every line gets a comment but be sure to:
<ul>
	<li> Have a comment block in front of each function to explain what the function does.
	<li> Explain each variable except for the most obvious ones (e.g., <em>i</em> as an iterator).
	<li> Have blank lines between variables and code.
</ul>
</ul>

<h2> Testing </h2>
<p>
These are some of the basic tests that you should run on your program to ensure that it functions
reasonably well.
</p>
<dl class="faqlist">
<dt>
1. Empty command #1
</dt>
<dd>
Test: enter just a newline. All that should happen is that you should get another prompt.
</dd>

<dt>
2. Empty command #2
</dt>
<dd>
Test: enter a bunch of spaces and tabs followed by a newline. All that should happen is that you should get another prompt.
</dd>

<dt>
3. Exit on end of file
</dt>
<dd>
Enter a control D at the command prompt. The shell should exit cleanly (just like with the <em>exit</em> command.
</dd>

<dt>
4. A shell prompt for each line of input
</dt>
<dd>
The shell should issue a prompt. The prompt should NOT terminate with a newline. That is, commands will be entered
on the same line as the prompt.
</dd>

<dt>
5. No shell prompt if the standard input is not a terminal
</dt>
<dd>
<p>
Your shell should not print a prompt if the input is not a terminal. For example, if you run:
</p>
<pre><code>
(echo echo abc;echo echo def;echo echo ghi)|./myshell
</code></pre>
<p> You should see something like </p>
<pre><code>
abc
process 9584 exits with 0
def
process 9585 exits with 0
ghi
process 9586 exits with 0
</code></pre>
</dd>

<dt>
6. The shell should run a simple command with arguments
</dt>
<dd>
<p>
If you run:
</p>
<pre><code>
echo hello, world
</code></pre>
<p>
You should see:
<pre><code>
hello, world
process 16589 exits with 0
</code></pre>
</dd>

<dt>
7. The shell should print an exit code for each process that terminates.
</dt>
<dd>
<p>
If you run:
</p>
<pre><code>
echo hello, world
</code></pre>
<p>
You should see:
<pre><code>
hello, world
process 16589 exits with 0
</code></pre>
</dd>

<dt>
8. Handle too many arguments gracefully
</dt>
<dd>
<p>
Your shell should warn of too many arguments on a command line and definitely not crash. This command, for example, should be handled gracefully:
</p>
<pre><code>
echo a b c d e f g h i j k l m n o p q r s t u v w x y z a b c d e f g h i j k l m n o p q r s t u v w x y z a b c d e f g h i j k l m n o p q r s t u v w x y z a b c d e f g h i j k l m n o p q r s t u v w x y z
</code></pre>
</dd>


<dt>
9. Quotes should be handled properly
</dt>
<dd>
<p>
If you run:
</p>
<pre><code>
echo "abc" "def" 'ghi' 'jkl'
</code></pre>
<p>
You should get:
<pre><code>
abc def ghi jkl
process 9649 exits with 0
</code></pre>
</dd>

<dt>
10. Spaces within quotes should be parsed correctly.
</dt>
<dd>
<p> Download and compile <a href="../notes/c-tutorials/files/echoargs.c">echoargs.c</a> 
(from the <a href="../notes/c-tutorials/getopt.html">getopt tutorial</a>). Run
</p>
<pre><code>
./echoargs 'abc def ghi' "j     k   l"
</code></pre>
<p>
You should get this output:
</p>
<code><pre>
argc = 3
arg[0] = "./echo"
arg[1] = "abc def ghi"
arg[2] = "j     k   l"
</code></pre>
</dd>

<dt>
11. Mismatched quotes should be detected and handled gracefully #1.
</dt>
<dd>
<p> For example, running: </p>
<code><pre>
echo 'abc
</pre></code>
<p>might produce something like </p>
<code><pre>
error: mismatched quote
</pre></code>
</dd>

<dt>
12.
Mismatched quotes should be detected and handled gracefully #2.
</dt>
<dd>
<p> For example, running: </p>
<code><pre>
echo 'abc"
</pre></code>
<p>might produce something like </p>
<code><pre>
error: mismatched quote
</pre></code>
</dd>


<dt>
13. A command should work with a single pipe.
</dt>
<dd>
<pre><code>
ls -laF /|tr a-z A-Z
</code></pre>
<p> should produce something like (partial output shown): </p>
<code><pre>
TOTAL 100
DRWXR-XR-X  23 ROOT ROOT  4096 FEB 25 07:02 ./
DRWXR-XR-X  23 ROOT ROOT  4096 FEB 25 07:02 ../
DRWXR-XR-X   2 ROOT ROOT  4096 FEB 23 10:20 BIN/
DRWXR-XR-X   3 ROOT ROOT  4096 MAR  3 06:59 BOOT/
DRWXR-XR-X  14 ROOT ROOT  4120 MAR  3 06:59 DEV/
DRWXR-XR-X 102 ROOT ROOT  4096 MAR  3 06:59 ETC/
DRWXR-XR-X   4 ROOT ROOT  4096 JUL  1  2014 HOME/
LRWXRWXRWX   1 ROOT ROOT    33 FEB 25 07:02 INITRD.IMG -> BOOT/INITRD.IMG-3.13.0-46-GENERIC
LRWXRWXRWX   1 ROOT ROOT    33 JAN 13 06:49 INITRD.IMG.OLD -> BOOT/INITRD.IMG-3.13.0-44-GENERIC
</code></pre>
</dd>

<dt>
14. A pipeline of three commands should work.
</dt>
<dd>
<p>This pipeline of commands: </p>
<code><pre>
ls -alF  / | grep bin | cat -n
</pre></code>
<p>should produce something like </p>
<code><pre>
process 10121 exits with 0
     1	drwxr-xr-x   2 root root  4096 Feb 23 10:20 bin/
     2	drwxr-xr-x   2 root root 12288 Feb 27 07:21 sbin/
process 10122 exits with 0
process 10123 exits with 0
</pre></code>
<p> Note: for this assignment, you can print child exits whenever you get them and don't have to buffer
them until all child processes have terminated.
</dd>

<dt>
15. A pipeline of more than three commands should work.
</dt>
<dd>
<p>This command: </p>
<code><pre>
ls -alF  / | grep bin | tr a-z 'A-Z' |rev|cat -n
</pre></code>
<p>might produce something like </p>
<code><pre>
process 10131 exits with 0
process 10132 exits with 0
process 10133 exits with 0
     1	/NIB 02:01 32 BEF 6904  TOOR TOOR 2   X-RX-RXWRD
     2	/NIBS 12:70 72 BEF 88221 TOOR TOOR 2   X-RX-RXWRD
process 10134 exits with 0
process 10135 exits with 0
</pre></code>
</dd>

<dt>
16. Pipes that pass a lot of data should work.
</dt>
<dd>
<p>This command pipeline:</p>
<pre><code>
cat moby.txt |tr A-Z a-z|tr -C a-z '\n' |sed  '/^$/d' |sort|uniq -c|sort -nr|sed 10q
</code></pre>
<p>
Counts the number of unique words in <em>Moby Dick</em> (see the
assignment writeup for an explanation of what is going on. You will
need to download the file <a href="moby.txt">moby.txt</a>.
</p>
<p>
Your output should look like:
</p>
<pre><code>
14432 the
6609 of
6430 and
4736 a
4625 to
4172 in
3085 that
2530 his
2522 it
...
</code></pre>
<p>
If your program seems to hang forever, chances are that you are not running the commands
in your pipeline concurrently. Pipes maintain an in-memory buffer to hold their data.
When that buffer is full, the program that writes to the pipe is blocked. With small amounts
of data, you can get away with writing code that runs one program, waits for it to 
complete, runs the next one, waits for that to end, and so on. With large amounts of 
data, it becomes essential that the programs run concurrently so that the next command
in the pipeline can read data form the previous one.
</dd>

<dt>
17. The cd command should work with one argument</dt>
<dd>
Run <code>cd /etc</code> and then run <code>pwd</code>. It should output <code>/etc</code>.
</dd>

<dt>
18. The cd command should work with no arguments</dt>
<dd>
Run <code>cd</code> and then run <code>pwd</code>. It should print your home directory.
</dd>

<dt>
19. The cd command should barf when given more than one argument</dt>
<dd>
<p>Running the <code>cd</code> command with two or more arguments, such as:
</p>
<pre><code>
cd /etc /home
</code></pre>
<p>
should produce an error message:
</p>
<pre><code>
cd: too many arguments
</code></pre>
</dd>

<dt>
20. The exit command should exit with no arguments
</dt>
<dd>
<dd>
Run <code>exit</code>. The shell should exit. Run <code>echo $0</code> ($? is the 
environment variable that contains the exit code of the last command) and you should see
<code>0</code>, representing an exit code of 0.
</dd>

<dt>
21. The exit command should exit with an argument
</dt>
<dd>
<dd>
Run <code>exit 123</code>. The shell should exit. Run <code>echo $0</code> ($? is the 
environment variable that contains the exit code of the last command) and you should see
<code>123</code>, representing an exit code of 123.
</dd>

<dt>
22. Check that the shell is able to accept at least 10 commands.
</dt>
<dd>
<p>
Run this in bash, replacing <em>myshell</em> with the name of your shell:</p>
<pre><code>
(typeset -i i;i=0;while [ $i -lt 10 ];do echo echo $i;i=i+1;done)|./myshell
</code></pre>
<p>
You're sending the <em>echo</em> command repeatedly, with the argument being an
incrementing sequence of digits. Your output should look like:
</p>
<pre><code>
0
process 11319 exits with 0
1
process 11320 exits with 0
2
process 11321 exits with 0
3
process 11322 exits with 0
4
process 11323 exits with 0
5
process 11324 exits with 0
6
process 11325 exits with 0
7
process 11326 exits with 0
8
process 11327 exits with 0
9
process 11328 exits with 0
</code></pre>
</dd>

<dt>
23. Check that the shell is able to accept at least 1000 commands.
</dt>
<dd>
<p>
Run this in bash, replacing <em>myshell</em> with the name of your shell:</p>
<pre><code>
(typeset -i i;i=0;while [ $i -lt 1000 ];do echo echo $i;i=i+1;done)|./myshell
</code></pre>
<p>
You're doing the same thing but 1,000 times.
Your output should look like (truncated here):
</p>
<pre><code>
0
process 11331 exits with 0
1
process 11332 exits with 0
2
process 11333 exits with 0
...
997
process 12328 exits with 0
998
process 12329 exits with 0
999
process 12330 exits with 0
</code></pre>
</dd>


</dl>
</div>
<div id="footer">
<hr/>
<style type="text/css">  
span.codedirection { unicode-bidi:bidi-override; direction: rtl; }  
</style>  

<p> &copy; 2003-2019 Paul Krzyzanowski. All rights reserved.</p>
<p>For questions or comments about this site, contact Paul Krzyzanowski, 
<span class="codedirection">gro.kp@ofnibew</span>
</p>
<p>
The entire contents of this site are protected by copyright under national and international law.
No part of this site may be copied, reproduced, stored in a retrieval system, or transmitted, in any form,
or by any means whether electronic, mechanical or otherwise without the prior written
consent of the copyright holder.
If there is something on this page that you want to use, please let me know.
</p>
<p>
Any opinions expressed on this page do not necessarily reflect the opinions of my employers and may not
even reflect my own.
</p>
<p> Last updated: February 14, 2019
</p>
<img class="stamp" src="../..//css/images/recycled_pixels_logo.png" alt="recycled pixels" height="80" width="80" />
</div> <!-- footer -->
<div id="tear">
</div>


<div id="sidebar1">
<h1 class="first">Contents </h1>
	<h2> CS 416 </h2>
	<ul>
	<li> <a href="../index.html"> Main course page </a> </li>
	<li> <a href="../news.html"> News </a> </li>
	<li> <a href="../syllabus.html"> Syllabus </a> </li>
	<li> <a href="../hw/index.html"> Homework </a> </li>
	<li> <a href="../notes/index.html"> Documents </a> </li>
	<li> <a href="../exam/index.html"> Exam info </a> </li>
	<li> <a href="../grades/index.html"> Check your grades </a> </li>
	<li> <a href="https://sakai.rutgers.edu/portal"> Sakai </a> </li>
	</ul>

	<h2> CS 417 background </h2>
	<ul>
	<li> <a href="../about.html"> About the course </a> </li>
	<li> <a href="../prereq.html"> Prerequisites </a> </li>
	<li> <a href="../things.html"> Things you need </a> </li>
	<li> <a href="../policy.html"> Policy  </a> </li>
	</ul>

	<h2> CS 417 Assignments </h2>
	<ul>
	<li> <a href="a-1.html"> Assignment 1 </a>
	<li> <a href="a-2.html"> Assignment 2 </a>
	<li> <a href="a-3.html"> Assignment 3 </a>
	<li> <a href="a-4.html"> Assignment 4 </a>
	<li> <a href="a-5.html"> Assignment 5 </a>
	<li> <a href="a-6.html"> Assignment 6 </a>
	<li> <a href="a-7.html"> Assignment 7 </a>
	<li> <a href="a-8.html"> Assignment 8 </a>
	</ul>
	<h2> Tutorials </h2>
	<ul>
<!--
	<li> <a href="../notes/sockets/index.html"> TCP Sockets tutorial </a> </li>
	<li> <a href="../notes/rpc/index.html"> ONC RPC tutorial </a> </li>
-->
	<li> <a href="../notes/c-tutorials/index.html"> C/Unix tutorials </a> </li>
	<li> <a href="../notes/make/index.html"> Makefile tutorial </a> </li>
	</ul>

</div>

<div id="sidebar2">
<!--
<h1 class="first"> Free junk </h1>
<p>
Tedst
</p>
<hr/>
<ul>
<li> List item
</ul>
-->
</div>

</div>
</div>
</body>
</html>
